<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Wambui!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary: #ff4081;
            --secondary: #ff9a9e;
            --accent: #ffd166;
            --dark: #333;
            --light: #fff;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        body {
            background: linear-gradient(135deg, var(--secondary) 0%, #fad0c4 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px 40px;
            overflow-x: hidden;
            color: var(--dark);
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            text-align: center;
        }
        
        header {
            margin-bottom: 25px;
            position: relative;
        }
        
        h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 20px;
        }
        
        .message {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: var(--shadow);
            font-size: 1.1rem;
            line-height: 1.6;
            color: #555;
            text-align: left;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin: 25px 0 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: var(--accent);
            border-radius: 3px;
        }
        
        .gift-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .gift-box {
            aspect-ratio: 1;
            background: linear-gradient(145deg, #ff6b6b, #ff8e8e);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            padding: 10px;
        }
        
        .gift-box:active {
            transform: scale(0.95);
        }
        
        .gift-box i {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 10px;
            filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.2));
        }
        
        .gift-box span {
            color: white;
            font-weight: 600;
            font-size: 1rem;
        }
        
        .gift-box::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 20px;
            background: linear-gradient(90deg, var(--accent), #ff9e00);
            top: 0;
        }
        
        .gift-box::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent), #ff9e00);
            left: 50%;
            transform: translateX(-50%);
        }
        
        .games-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .game-card {
            background: linear-gradient(145deg, #6a11cb, #2575fc);
            color: white;
            padding: 20px 15px;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .game-card:active {
            transform: scale(0.98);
        }
        
        .game-card i {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .game-card h3 {
            font-size: 1.2rem;
            margin-bottom: 8px;
        }
        
        .game-card p {
            font-size: 0.85rem;
            opacity: 0.9;
            text-align: center;
        }
        
        .final-message {
            margin-top: 30px;
            padding: 25px 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
            box-shadow: var(--shadow);
            text-align: left;
        }
        
        .signature {
            margin-top: 20px;
            text-align: right;
            font-style: italic;
            color: var(--primary);
            font-weight: 600;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            width: 100%;
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalAppear 0.3s ease;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.8rem;
            color: var(--primary);
        }
        
        .close-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: background 0.3s;
        }
        
        .close-btn:active {
            background: #e91e63;
        }
        
        .modal-body {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #555;
        }
        
        .song-lyrics {
            background: rgba(255, 209, 102, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-style: italic;
            line-height: 1.8;
            text-align: center;
        }
        
        /* Cake Styles */
        .cake-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }
        
        .cake {
            position: relative;
            width: 200px;
            height: 120px;
            margin-bottom: 30px;
        }
        
        .cake-base {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 60px;
            background: linear-gradient(to bottom, #f8c8dc, #f5a6c8);
            border-radius: 10px 10px 50px 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .cake-top {
            position: absolute;
            bottom: 60px;
            width: 180px;
            height: 40px;
            background: linear-gradient(to bottom, #ff9a9e, #fad0c4);
            border-radius: 50px 50px 10px 10px;
            left: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .candles {
            position: absolute;
            bottom: 100px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            padding: 0 30px;
        }
        
        .candle {
            width: 12px;
            height: 30px;
            background: linear-gradient(to bottom, #ff9a9e, #fad0c4);
            border-radius: 5px;
            position: relative;
        }
        
        .flame {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 25px;
            background: #ffd166;
            border-radius: 50% 50% 20% 20%;
            box-shadow: 0 0 15px 5px #ff9a00;
            animation: flicker 1.5s infinite alternate;
        }
        
        .flame.extinguished {
            opacity: 0;
            transform: translateX(-50%) scale(0.1);
            transition: all 0.5s ease;
        }
        
        @keyframes flicker {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }
        
        .cake-message {
            font-size: 1.2rem;
            margin-top: 20px;
            font-weight: 600;
            color: var(--primary);
            min-height: 30px;
        }
        
        /* Game Specific Styles */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            position: relative;
        }
        
        .memory-card.flipped {
            transform: rotateY(180deg);
        }
        
        .memory-card .front, .memory-card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }
        
        .memory-card .front {
            background: var(--primary);
            color: white;
        }
        
        .memory-card .back {
            background: white;
            color: var(--primary);
            transform: rotateY(180deg);
        }
        
        .love-meter-container {
            margin: 25px 0;
        }
        
        .love-meter {
            width: 100%;
            height: 30px;
            background: #ddd;
            border-radius: 15px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        .love-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), #ff6b6b);
            width: 0%;
            transition: width 1.5s ease-in-out;
            border-radius: 15px;
        }
        
        .love-text {
            font-size: 1.3rem;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .action-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px 0;
            width: 100%;
            max-width: 250px;
            box-shadow: 0 4px 10px rgba(255, 64, 129, 0.3);
        }
        
        .action-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 5px rgba(255, 64, 129, 0.3);
        }
        
        .quiz-container {
            text-align: left;
        }
        
        .quiz-question {
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .quiz-option {
            padding: 15px;
            background: rgba(255, 209, 102, 0.2);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quiz-option:active {
            background: rgba(255, 209, 102, 0.4);
            transform: scale(0.98);
        }
        
        .quiz-result {
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            margin: 20px 0;
            min-height: 30px;
        }
        
        /* Floating Hearts */
        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary);
            transform: rotate(45deg);
            opacity: 0;
        }
        
        .heart:before, .heart:after {
            content: '';
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            position: absolute;
        }
        
        .heart:before {
            top: -10px;
            left: 0;
        }
        
        .heart:after {
            top: 0;
            left: -10px;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(45deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-1000px) rotate(45deg);
                opacity: 0;
            }
        }
        
        /* Audio Player Styles */
        .audio-player {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }
        
        .audio-controls {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .audio-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(255, 64, 129, 0.3);
        }
        
        .audio-btn:active {
            transform: scale(0.95);
        }
        
        /* Responsive Adjustments */
        @media (min-width: 768px) {
            .gift-container, .games-container {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .memory-game {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="hearts" id="hearts"></div>
    
    <div class="container">
        <header>
            <h1>Happy Birthday Wambui! 🎉</h1>
            <p class="subtitle">A special surprise made just for you</p>
        </header>
        
        <div class="message">
            <p>My dearest Wambui, on this special day, I want to remind you how incredibly amazing you are! You bring so much joy and happiness into my life, and I'm so grateful to have you. I hope this little surprise brings a smile to your beautiful face! ❤️</p>
        </div>
        
        <h2 class="section-title">Open Your Gifts</h2>
        <div class="gift-container">
            <div class="gift-box" onclick="openGift(1)">
                <i class="fas fa-gift"></i>
                <span>Gift 1</span>
            </div>
            <div class="gift-box" onclick="openGift(2)">
                <i class="fas fa-music"></i>
                <span>Gift 2</span>
            </div>
            <div class="gift-box" onclick="openGift(3)">
                <i class="fas fa-birthday-cake"></i>
                <span>Gift 3</span>
            </div>
            <div class="gift-box" onclick="openGift(4)">
                <i class="fas fa-heart"></i>
                <span>Gift 4</span>
            </div>
        </div>
        
        <h2 class="section-title">Play Games</h2>
        <div class="games-container">
            <div class="game-card" onclick="openGame('memory')">
                <i class="fas fa-brain"></i>
                <h3>Memory Game</h3>
                <p>Match the pairs</p>
            </div>
            <div class="game-card" onclick="openGame('love')">
                <i class="fas fa-heartbeat"></i>
                <h3>Love Meter</h3>
                <p>Measure the love</p>
            </div>
            <div class="game-card" onclick="openGame('quiz')">
                <i class="fas fa-question-circle"></i>
                <h3>Birthday Quiz</h3>
                <p>Test your knowledge</p>
            </div>
            <div class="game-card" onclick="openGame('message')">
                <i class="fas fa-envelope"></i>
                <h3>Special Message</h3>
                <p>Heartfelt wishes</p>
            </div>
        </div>
        
        <div class="final-message">
            <p>Wambui, you're the most wonderful person I know. Your smile lights up my world, your laughter is my favorite sound, and your heart is the most beautiful thing about you. I hope your birthday is as incredible as you are! Here's to many more celebrations together! 🥳🎂🎁</p>
            <p class="signature">With all my love,<br>Your special someone ❤️</p>
        </div>
    </div>
    
    <!-- Gift Modals -->
    <div id="gift1" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Virtual Flowers 💐</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>For the most beautiful flower in my life! These virtual flowers will never wilt, just like my love for you. I promise to get you real ones soon too! 🌹</p>
                <div style="text-align: center; margin: 20px 0; font-size: 3rem;">🌷🌸🌺🌻🌼</div>
            </div>
        </div>
    </div>
    
    <div id="gift2" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Personalized Song 🎵</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>Here's a special birthday song for you, Wambui!</p>
                <div class="song-lyrics">
                    "It's your birthday, Wambui<br>
                    Time to celebrate and feel so happy<br>
                    You're the reason for the season<br>
                    You're the one that makes life worth living<br><br>
                    
                    Blow out the candles, make a wish<br>
                    Hope it comes true with a loving kiss<br>
                    You're growing older, but you're still so fine<br>
                    Wambui, you'll always be mine<br><br>
                    
                    Happy birthday to you, my dear<br>
                    Wishing you joy throughout the year<br>
                    May all your dreams and wishes come true<br>
                    'Cause no one deserves it more than you!"
                </div>
                <div class="audio-player">
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playAudio()">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="audio-btn" onclick="pauseAudio()">
                            <i class="fas fa-pause"></i>
                        </button>
                        <button class="audio-btn" onclick="stopAudio()">
                            <i class="fas fa-stop"></i>
                        </button>
                    </div>
                    <p id="audioStatus" style="margin-top: 10px; font-style: italic;">Click play to listen to your song!</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="gift3" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Virtual Cake 🎂</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>Make a wish and blow out the candles! I hope all your birthday wishes come true. This virtual cake has zero calories but all the sweetness! 😊</p>
                
                <div class="cake-container">
                    <div class="cake">
                        <div class="cake-base"></div>
                        <div class="cake-top"></div>
                        <div class="candles">
                            <div class="candle">
                                <div class="flame" id="flame1"></div>
                            </div>
                            <div class="candle">
                                <div class="flame" id="flame2"></div>
                            </div>
                            <div class="candle">
                                <div class="flame" id="flame3"></div>
                            </div>
                            <div class="candle">
                                <div class="flame" id="flame4"></div>
                            </div>
                        </div>
                    </div>
                    <div class="cake-message" id="cakeMessage">Make a wish and blow out the candles!</div>
                </div>
                
                <div style="text-align: center;">
                    <button class="action-btn" onclick="blowCandles()"><i class="fas fa-wind"></i> Blow Candles</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="gift4" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Promise Coupon 📝</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>This coupon is good for:</p>
                <ul style="margin: 15px 0 15px 20px;">
                    <li>One romantic dinner date</li>
                    <li>One movie night of your choice</li>
                    <li>One back massage</li>
                    <li>Unlimited hugs and kisses</li>
                </ul>
                <p>Redeemable anytime! 💖</p>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="action-btn" onclick="redeemCoupon()"><i class="fas fa-ticket-alt"></i> Redeem Now</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Game Modals -->
    <div id="memoryGame" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Memory Game</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>Match all the pairs as quickly as you can!</p>
                <div class="memory-game" id="memoryBoard">
                    <!-- Cards will be generated by JavaScript -->
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="action-btn" onclick="initMemoryGame()"><i class="fas fa-redo"></i> Restart Game</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="loveGame" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Love Meter</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <p>How much is Wambui loved today?</p>
                <div class="love-meter-container">
                    <div class="love-meter">
                        <div class="love-fill" id="loveFill"></div>
                    </div>
                    <div class="love-text" id="loveText">Click the button to measure the love!</div>
                </div>
                <div style="text-align: center;">
                    <button class="action-btn" onclick="measureLove()"><i class="fas fa-heart"></i> Measure Love</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="quizGame" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Birthday Quiz</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="quiz-container">
                    <div class="quiz-question" id="quizQuestion">How awesome is Wambui?</div>
                    <div class="quiz-options" id="quizOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                    <div class="quiz-result" id="quizResult"></div>
                </div>
                <div style="text-align: center;">
                    <button class="action-btn" onclick="initQuiz()"><i class="fas fa-redo"></i> Restart Quiz</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="messageGame" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Special Message</h2>
                <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="song-lyrics">
                    To the most amazing Wambui,<br><br>
                    
                    On your special day, I want you to know how much you mean to me. Your smile brightens my darkest days, your laughter is my favorite melody, and your love is the greatest gift I've ever received.<br><br>
                    
                    May this year bring you endless joy, success in all your endeavors, and the fulfillment of your heart's desires. You deserve all the happiness in the world and more.<br><br>
                    
                    Happy Birthday, my love! 🎉❤️🎂
                </div>
                <div style="text-align: center; margin-top: 20px; font-size: 3rem;">
                    💖🎁🎈
                </div>
            </div>
        </div>
    </div>

    <script>
        // Create floating hearts
        function createHearts() {
            const heartsContainer = document.getElementById('hearts');
            // Clear existing hearts
            heartsContainer.innerHTML = '';
            
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animation = `float ${Math.random() * 6 + 5}s linear infinite`;
                heart.style.animationDelay = Math.random() * 5 + 's';
                heartsContainer.appendChild(heart);
            }
        }
        
        // Modal functionality
        function openGift(giftNumber) {
            document.getElementById(`gift${giftNumber}`).style.display = 'flex';
            createHearts();
            
            // Reset cake candles when opening gift 3
            if (giftNumber === 3) {
                resetCandles();
            }
        }
        
        function openGame(gameType) {
            document.getElementById(`${gameType}Game`).style.display = 'flex';
            
            if (gameType === 'memory') {
                initMemoryGame();
            } else if (gameType === 'quiz') {
                initQuiz();
            }
            
            createHearts();
        }
        
        function closeModal() {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                modal.style.display = 'none';
            });
        }
        
        // Close modal when clicking outside content
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
        
        // Gift interactive functions
        function playAudio() {
            // Create audio context for the birthday song
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Play "Happy Birthday" melody
            const notes = [
                {freq: 392, duration: 0.5}, // G
                {freq: 392, duration: 0.5}, // G
                {freq: 440, duration: 1},   // A
                {freq: 392, duration: 1},   // G
                {freq: 523, duration: 1},   // C
                {freq: 494, duration: 2},   // B
                
                {freq: 392, duration: 0.5}, // G
                {freq: 392, duration: 0.5}, // G
                {freq: 440, duration: 1},   // A
                {freq: 392, duration: 1},   // G
                {freq: 587, duration: 1},   // D
                {freq: 523, duration: 2},   // C
                
                {freq: 392, duration: 0.5}, // G
                {freq: 392, duration: 0.5}, // G
                {freq: 784, duration: 1},   // G (high)
                {freq: 659, duration: 1},   // E
                {freq: 523, duration: 1},   // C
                {freq: 494, duration: 1},   // B
                {freq: 440, duration: 2},   // A
                
                {freq: 698, duration: 0.5}, // F
                {freq: 698, duration: 0.5}, // F
                {freq: 659, duration: 1},   // E
                {freq: 523, duration: 1},   // C
                {freq: 587, duration: 1},   // D
                {freq: 523, duration: 2}    // C
            ];
            
            let time = audioContext.currentTime;
            
            oscillator.type = 'sine';
            oscillator.start(time);
            
            notes.forEach(note => {
                oscillator.frequency.setValueAtTime(note.freq, time);
                time += note.duration * 0.8; // 80% of duration for note
                oscillator.frequency.setValueAtTime(0, time); // Brief pause
                time += note.duration * 0.2; // 20% of duration for pause
            });
            
            oscillator.stop(time);
            
            document.getElementById('audioStatus').textContent = "Playing Happy Birthday for Wambui! 🎵";
        }
        
        function pauseAudio() {
            document.getElementById('audioStatus').textContent = "Music paused";
        }
        
        function stopAudio() {
            document.getElementById('audioStatus').textContent = "Music stopped";
        }
        
        // Cake functionality
        function resetCandles() {
            const flames = document.querySelectorAll('.flame');
            flames.forEach(flame => {
                flame.classList.remove('extinguished');
            });
            document.getElementById('cakeMessage').textContent = "Make a wish and blow out the candles!";
        }
        
        function blowCandles() {
            const flames = document.querySelectorAll('.flame');
            let extinguishedCount = 0;
            
            flames.forEach((flame, index) => {
                setTimeout(() => {
                    flame.classList.add('extinguished');
                    extinguishedCount++;
                    
                    if (extinguishedCount === flames.length) {
                        document.getElementById('cakeMessage').innerHTML = "🎉 Your wish will come true! Happy Birthday Wambui! 🎂";
                    }
                }, index * 300); // Stagger the extinguishing
            });
        }
        
        function redeemCoupon() {
            alert('Coupon redeemed! 💖 I owe you a special treat!');
        }
        
        // Memory Game
        function initMemoryGame() {
            const memoryBoard = document.getElementById('memoryBoard');
            memoryBoard.innerHTML = '';
            
            const symbols = ['🎂', '🎁', '🎈', '🎉', '❤️', '⭐'];
            const cards = [...symbols, ...symbols];
            
            // Shuffle cards
            cards.sort(() => Math.random() - 0.5);
            
            cards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.classList.add('memory-card');
                card.dataset.symbol = symbol;
                
                const front = document.createElement('div');
                front.classList.add('front');
                front.textContent = '?';
                
                const back = document.createElement('div');
                back.classList.add('back');
                back.textContent = symbol;
                
                card.appendChild(front);
                card.appendChild(back);
                
                card.addEventListener('click', flipCard);
                
                memoryBoard.appendChild(card);
            });
            
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let matchedPairs = 0;
            
            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;
                
                this.classList.add('flipped');
                
                if (!hasFlippedCard) {
                    // First click
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }
                
                // Second click
                secondCard = this;
                checkForMatch();
            }
            
            function checkForMatch() {
                let isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;
                
                if (isMatch) {
                    disableCards();
                    matchedPairs++;
                    
                    if (matchedPairs === symbols.length) {
                        setTimeout(() => {
                            alert('Congratulations! You matched all pairs! 🎉');
                        }, 500);
                    }
                } else {
                    unflipCards();
                }
            }
            
            function disableCards() {
                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);
                
                resetBoard();
            }
            
            function unflipCards() {
                lockBoard = true;
                
                setTimeout(() => {
                    firstCard.classList.remove('flipped');
                    secondCard.classList.remove('flipped');
                    
                    resetBoard();
                }, 1000);
            }
            
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }
        }
        
        // Love Meter
        function measureLove() {
            const loveFill = document.getElementById('loveFill');
            const loveText = document.getElementById('loveText');
            
            // Reset the meter
            loveFill.style.width = '0%';
            loveText.textContent = "Measuring the love...";
            
            // Animate the love meter
            let width = 0;
            const interval = setInterval(() => {
                width += 2;
                loveFill.style.width = width + '%';
                
                if (width >= 100) {
                    clearInterval(interval);
                    loveText.innerHTML = "Wambui is loved <strong>INFINITELY</strong>! ❤️❤️❤️";
                } else if (width > 80) {
                    loveText.textContent = "Wambui is loved A WHOLE LOT! 💖";
                } else if (width > 60) {
                    loveText.textContent = "Wambui is loved VERY MUCH! 💕";
                } else if (width > 40) {
                    loveText.textContent = "Wambui is loved SO MUCH! 😊";
                } else if (width > 20) {
                    loveText.textContent = "Wambui is loved A LOT! 👍";
                }
            }, 30);
        }
        
        // Birthday Quiz
        function initQuiz() {
            const quizData = [
                {
                    question: "How awesome is Wambui?",
                    options: ["Pretty awesome", "Very awesome", "Extremely awesome", "The most awesome person ever!"],
                    correct: 3
                },
                {
                    question: "What makes Wambui special?",
                    options: ["Her smile", "Her kindness", "Her intelligence", "All of the above and more!"],
                    correct: 3
                },
                {
                    question: "How many birthday wishes does Wambui deserve?",
                    options: ["A few", "Many", "Countless", "Infinite wishes!"],
                    correct: 3
                }
            ];
            
            let currentQuestion = 0;
            let score = 0;
            
            function displayQuestion() {
                const quizQuestion = document.getElementById('quizQuestion');
                const quizOptions = document.getElementById('quizOptions');
                const quizResult = document.getElementById('quizResult');
                
                quizResult.textContent = '';
                
                if (currentQuestion >= quizData.length) {
                    // Quiz completed
                    quizQuestion.textContent = "Quiz Complete!";
                    quizOptions.innerHTML = '';
                    quizResult.innerHTML = `You got ${score} out of ${quizData.length} correct!<br>Wambui is definitely the best! 🎉`;
                    return;
                }
                
                const question = quizData[currentQuestion];
                quizQuestion.textContent = question.question;
                
                quizOptions.innerHTML = '';
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.classList.add('quiz-option');
                    optionElement.textContent = option;
                    optionElement.addEventListener('click', () => checkAnswer(index));
                    quizOptions.appendChild(optionElement);
                });
            }
            
            function checkAnswer(selectedIndex) {
                const question = quizData[currentQuestion];
                const quizResult = document.getElementById('quizResult');
                
                if (selectedIndex === question.correct) {
                    quizResult.textContent = "Correct! 🎉";
                    quizResult.style.color = "#4CAF50";
                    score++;
                } else {
                    quizResult.textContent = "Nice try! But Wambui deserves even more! 😊";
                    quizResult.style.color = "#FF9800";
                }
                
                currentQuestion++;
                setTimeout(displayQuestion, 1500);
            }
            
            currentQuestion = 0;
            score = 0;
            displayQuestion();
        }
        
        // Initialize the page
        window.onload = function() {
            createHearts();
        };
    </script>
</body>
</html>